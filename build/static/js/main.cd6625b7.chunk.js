(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[0],{31:function(t,e,a){t.exports=a(59)},36:function(t,e,a){},37:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(6),o=a.n(r),l=(a(36),a(21)),i=a(22),c=a(30),u=a(29),d=(a(37),a(23)),m=a.n(d),v=(a(53),a(24)),p=(a(54),function(t){var e=t.data;return s.a.createElement(v.a,{data:e,style:{width:"100%",height:"100%"},pallette:["#3b7dd8","#4a91f2","#64a1f4","#8dbdff","#bfd6f6"]})}),f=a(27),h=a(28),g=a(26),b=m()(),I=function(t){Object(c.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).apiCall=function(){b.api("query ($boardIds: [Int], $nameColumnId: String!, $valueColumnId: String! ) {\n      boards (ids:$boardIds) {\n        items {\n          column_values(ids:[$nameColumnId, $valueColumnId]) {\n            text\n            type\n          }\n        } \n      } \n    }",{variables:{boardIds:n.state.context.boardIds,nameColumnId:n.state.settings.nameId,valueColumnId:n.state.settings.valueId}}).then((function(t){n.setState({boardData:t.data}),n.setState({data:n.state.boardData.boards[0].items.map((function(t){return{name:"text"===t.column_values[0].type?t.column_values[0].text:t.column_values[1].text,value:"numeric"===t.column_values[1].type?t.column_values[1].text:t.column_values[0].text}}))}),n.calculatePercentage(n.state.data),n.setState({errorVal:!1}),n.setState({spinner:!1})})).catch((function(t){n.setState({errorVal:!0}),console.log(t)}))},n.refreshButton=function(){n.setState({spinner:!0}),n.apiCall()},n.calculatePercentage=function(t){n.setState({percent:[]}),n.setState({funnelData:[{}]});var e=t[0].value;0!==e&&(n.setState({percent:t.map((function(t){return Math.round(t.value/e*100)}))}),n.setState({funnelData:n.state.data.map((function(t,e){return{name:"".concat(t.name," (").concat(n.state.percent[e],"%)"),value:t.value}}))}))},n.state={settings:{nameId:"text",valueId:"numbers"},data:[{name:"Awareness",value:252},{name:"Interest",value:105},{name:"Consideration",value:84}],percent:[],funnelData:[{}],context:{},boardData:{},errorVal:!1,spinner:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;b.listen("settings",(function(e){t.setState({settings:e.data}),""!==t.state.settings.nameId&&""!==t.state.settings.valueId&&t.apiCall()})),b.listen("context",(function(e){t.setState({context:e.data})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},""===this.state.settings.nameId||""===this.state.settings.valueId?s.a.createElement("div",{className:"pt-4 text-center"},s.a.createElement("p",null,"Please enter the id of label column and value column.")):!0===this.state.errorVal?s.a.createElement(h.a,{variant:"danger"}," The name or the value is incorrect "):s.a.createElement("div",{className:"funnel_container pt-4"},this.state.spinner?s.a.createElement(g.a,{animation:"border",variant:"primary"}):s.a.createElement(p,{className:"pt-4",data:this.state.funnelData}),s.a.createElement("div",{className:"pt-4"},s.a.createElement(f.a,{onClick:this.refreshButton,variant:"danger",size:"lg",disabled:!!this.state.spinner},"Refresh"))))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.cd6625b7.chunk.js.map